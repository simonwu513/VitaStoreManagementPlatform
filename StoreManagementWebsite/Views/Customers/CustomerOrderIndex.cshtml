

<h2>客戶帳戶登入</h2>

<div class="row justify-content-center">
    <div class="col-4">
        <form method="post" action="/Customers/CustomerOrderIndex" id="CustomerOrderInfoForm" class="needs-validation" novalidate>

            <div class="form-group">
                <label class="control-label float-start" for="CustomerEmail">電子信箱</label>
                <input class="form-control" type="text" id="CustomerEmail"
                       name="CustomerEmail" value="" />
                <div class="invalid-feedback">請輸入正確的Email格式</div>
            </div>
            <div class="form-group">
                <label class="control-label float-start" for="CustomerPassword">密碼</label>
                <input class="form-control" type="password" id="CustomerPassword"
                       name="CustomerPassword" value="" />
                @* <div class="invalid-feedback">請輸入正確的密碼</div> *@
            </div>

            <div class="form-group pt-3">
                <input type="submit" value="確定" class="btn btn-outline-primary" /> |
                <a href="/Customers/CustomerOrderIndex" class="btn btn-outline-info">取消</a>
            </div>

            <div class="pt-3">
                <p class="text-danger"> @(TempData["LoginErrorMessage"] ?? "")</p>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <script>
        $('label[for="CustomerEmail"]').on('click', function () {
            $('#CustomerEmail').val('flyingfish22@gmail.com');
        });


        $('label[for="CustomerPassword"]').on('click', function () {
            $('#CustomerPassword').val('Abc123Mno');
        });

        $(document).ready(function () {
            $('#CustomerOrderInfoForm').on('submit', function (event) {
                var allValidated = true;
                const emailRegex = "/^[^\s@@]+@@[^\s@@]+\.[^\s@@]+$/";
                if (!emailRegex.test($('#CustomerEmail').val())) {
                    $('#CustomerEmail').removeClass('is-valid').addClass('is-invalid');
                    allValidated = false;
                } else {
                    $('#CustomerEmail').removeClass('is-invalid').addClass('is-valid');
                }

                if (allValidated) {
                    $('#CustomerOrderInfoForm').addClass('was-validated');
                    $('#CustomerOrderInfoForm').submit();


                } else {
                    $('.invalid-feedback').show();
                    event.preventDefault();
                    event.stopPropagation();
                }

            });

        });
    </script>
}